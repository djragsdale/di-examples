<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DI & IOC in JS</title>
    <script src="assets/js/angularJs/angularJsInjector.js"></script>
    <script src="assets/js/common/Logger.js"></script>
    <script src="assets/js/common/util.js"></script>
    <script src="assets/js/setterPrototype/createInjector.js"></script>
    <script src="assets/js/spring/JsonApplicationContext.js"></script>
    <script src="assets/js/symfony/ContainerBuilder.js"></script>
    <script src="assets/js/symfony/ContainerReference.js"></script>
    <script src="assets/js/symfony/SymfonyContainer.js"></script>
    <style>
      main {
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      button {

      }

      pre {
        background: gray;
        color: white;

        padding: 16px;
      }

      pre.example {

      }

      pre.log {
        
      }
    </style>
  </head>
  <body>
    <main>
      <h1>Dependency Injection and Inversion of Control in client JavaScript</h1>
      <section>
        <h2>Spring</h2>
        <p></p>
        <script>
          function SpringClass(logger) {
            this.logger = logger;
            // Some non-Singleton property setters can be defined by the instance
            this.logger.setNamespace('SpringClass');
          }
          SpringClass.prototype.doLogging = function doLogging() {
            this.logger.log('Logging from a Spring IOC container!');
          };

          var notQuiteABean = {
            springClass: {
              proto: SpringClass,
              constructorArgs: [
                {
                  ref: 'exampleLogger'
                }
              ]
            },
            exampleLogger: {
              proto: ExampleLogger,
              properties: [
                {
                  name: 'id',
                  value: 'springLog'
                }
              ]
            }
          };
          var springContext = new JsonApplicationContext(notQuiteABean);

          springClass = springContext.getBean('springClass');
        </script>
        <pre class="example">
          <code>
            function SpringClass(logger) {
              this.logger = logger;
            }
            SpringClass.prototype.doLogging = function doLogging() {
              this.logger.log('Logging from a Spring IOC container!');
              // Some non-Singleton property setters can be defined by the instance
              this.logger.setNamespace('SpringClass');
            };

            var notQuiteABean = {
              springClass: {
                proto: SpringClass,
                constructorArgs: [
                  {
                    ref: 'exampleLogger'
                  }
                ]
              },
              exampleLogger: {
                proto: ExampleLogger,
                properties: [
                  {
                    name: 'id',
                    value: 'springLog'
                  }
                ]
              }
            };
            var springContext = new JsonApplicationContext(notQuiteABean);

            springClass = springContext.getBean('springClass');
          </code>
        </pre>
        <button onclick="springClass.doLogging()">Run Example</button>
        <pre class="log"><code id="springLog"></code></pre>
      </section>
    </main>
  </body>
</html>